{"ast":null,"code":"class ApiAuth {\n  constructor(options) {\n    this._host = options.host;\n    this._headers = options.headers;\n  }\n\n  _responseAnalysis(res) {\n    debugger;\n\n    if (res.status === 200 || res.status === 201) {\n      return res.json();\n    }\n\n    return Promise.reject(res.status);\n  }\n\n  _request(data) {\n    return fetch(`${this._host}${data.url}`, {\n      method: data.methodName,\n      headers: this._headers,\n      body: JSON.stringify({\n        'password': data.password,\n        'email': data.email\n      })\n    }).then(res => this._responseAnalysis(res));\n  }\n\n  register(data) {\n    return this._request({\n      url: data.endpoint,\n      methodName: data.methodName\n    });\n  }\n\n  authorization(data, email, password) {\n    return this._request({\n      url: data.endpoint,\n      methodName: data.methodName\n    }, email, password);\n  }\n\n  checkToken(data, token) {\n    return this._request({\n      url: data.endpoint,\n      methodName: data.methodName,\n      token\n    });\n  }\n\n}\n\nconst apiAuth = new ApiAuth({\n  host: 'https://auth.nomoreparties.co/',\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default apiAuth;","map":{"version":3,"names":["ApiAuth","constructor","options","_host","host","_headers","headers","_responseAnalysis","res","status","json","Promise","reject","_request","data","fetch","url","method","methodName","body","JSON","stringify","password","email","then","register","endpoint","authorization","checkToken","token","apiAuth"],"sources":["C:/Users/User/dev/react-mesto-auth/mesto-react/src/utils/ApiAuth.js"],"sourcesContent":["\r\n\r\nclass ApiAuth {\r\n    constructor(options) {\r\n        this._host = options.host;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n     \r\n\r\n    _responseAnalysis(res) {\r\n        debugger\r\n         if (res.status === 200 ||res.status === 201 ) { return res.json(); }\r\n        return Promise.reject(res.status)\r\n    }\r\n\r\n    _request(data) {\r\n        return fetch(`${this._host}${data.url}`, {\r\n            method: data.methodName,\r\n            headers: this._headers,\r\n            body: JSON.stringify({ 'password': data.password, 'email': data.email })\r\n        }).then(res => this._responseAnalysis(res))\r\n    }\r\n\r\n    register(data) {\r\n        return this._request({\r\n            url: data.endpoint,\r\n            methodName: data.methodName,\r\n        })\r\n    };\r\n\r\n    authorization(data,  email, password) {\r\n        return this._request({\r\n            url: data.endpoint,\r\n            methodName: data.methodName,\r\n        }, email, password)\r\n    }\r\n\r\n    checkToken(data, token) {\r\n        return this._request({\r\n            url: data.endpoint,\r\n            methodName: data.methodName,\r\n            token,\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\nconst apiAuth = new ApiAuth({\r\n    host: 'https://auth.nomoreparties.co/',\r\n    headers: { \"Content-Type\": \"application/json\" }\r\n})\r\n\r\nexport default apiAuth;\r\n\r\n"],"mappings":"AAEA,MAAMA,OAAN,CAAc;EACVC,WAAW,CAACC,OAAD,EAAU;IACjB,KAAKC,KAAL,GAAaD,OAAO,CAACE,IAArB;IACA,KAAKC,QAAL,GAAgBH,OAAO,CAACI,OAAxB;EACH;;EAIDC,iBAAiB,CAACC,GAAD,EAAM;IACnB;;IACC,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAf,IAAqBD,GAAG,CAACC,MAAJ,KAAe,GAAxC,EAA8C;MAAE,OAAOD,GAAG,CAACE,IAAJ,EAAP;IAAoB;;IACrE,OAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACC,MAAnB,CAAP;EACH;;EAEDI,QAAQ,CAACC,IAAD,EAAO;IACX,OAAOC,KAAK,CAAE,GAAE,KAAKZ,KAAM,GAAEW,IAAI,CAACE,GAAI,EAA1B,EAA6B;MACrCC,MAAM,EAAEH,IAAI,CAACI,UADwB;MAErCZ,OAAO,EAAE,KAAKD,QAFuB;MAGrCc,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAE,YAAYP,IAAI,CAACQ,QAAnB;QAA6B,SAASR,IAAI,CAACS;MAA3C,CAAf;IAH+B,CAA7B,CAAL,CAIJC,IAJI,CAIChB,GAAG,IAAI,KAAKD,iBAAL,CAAuBC,GAAvB,CAJR,CAAP;EAKH;;EAEDiB,QAAQ,CAACX,IAAD,EAAO;IACX,OAAO,KAAKD,QAAL,CAAc;MACjBG,GAAG,EAAEF,IAAI,CAACY,QADO;MAEjBR,UAAU,EAAEJ,IAAI,CAACI;IAFA,CAAd,CAAP;EAIH;;EAEDS,aAAa,CAACb,IAAD,EAAQS,KAAR,EAAeD,QAAf,EAAyB;IAClC,OAAO,KAAKT,QAAL,CAAc;MACjBG,GAAG,EAAEF,IAAI,CAACY,QADO;MAEjBR,UAAU,EAAEJ,IAAI,CAACI;IAFA,CAAd,EAGJK,KAHI,EAGGD,QAHH,CAAP;EAIH;;EAEDM,UAAU,CAACd,IAAD,EAAOe,KAAP,EAAc;IACpB,OAAO,KAAKhB,QAAL,CAAc;MACjBG,GAAG,EAAEF,IAAI,CAACY,QADO;MAEjBR,UAAU,EAAEJ,IAAI,CAACI,UAFA;MAGjBW;IAHiB,CAAd,CAAP;EAKH;;AA1CS;;AA+Cd,MAAMC,OAAO,GAAG,IAAI9B,OAAJ,CAAY;EACxBI,IAAI,EAAE,gCADkB;EAExBE,OAAO,EAAE;IAAE,gBAAgB;EAAlB;AAFe,CAAZ,CAAhB;AAKA,eAAewB,OAAf"},"metadata":{},"sourceType":"module"}